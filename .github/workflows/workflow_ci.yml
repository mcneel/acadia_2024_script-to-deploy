# workflow build and test the plugin. 
# This workflow is triggered on push and pull requests.

# for a list of available software on the different virtual environments, please see:
# https://github.com/actions/virtual-environments/tree/main/images

name: CI
on: [push, pull_request]

env:
  RHINO_TOKEN: ${{ secrets.RHINO_TOKEN }}

jobs:

  build:

    runs-on: windows-latest

    steps:

    - name: üõí Checkout src
      uses: actions/checkout@v3

    - name: üß© Setup .NET
      uses: actions/setup-dotnet@v3
      with:
         dotnet-version: 7.0.x

    - name: ü¶è Install Rhino
      uses: mcneel/setup-rhino3d@v1.0.0
      id: setup_rhino
      with:
        email-address: ${{ secrets.EMAIL_ADDRESS }}

    - name: ‚úçÔ∏è Add to PATH
      run: |
        "C:\Program Files\Rhino 8\System" >> $env:GITHUB_PATH

    - name: üõ†Ô∏è Build rhproj
      run: |
        rhinocode project build D:\a\acadia_2024_script-to-deploy\acadia_2024_script-to-deploy\workflow_tools.rhproj
        cd build
        ls