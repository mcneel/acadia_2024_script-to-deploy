# workflow build and test the plugin. 
# This workflow is triggered on push and pull requests.

# for a list of available software on the different virtual environments, please see:
# https://github.com/actions/virtual-environments/tree/main/images

name: CI
on: [push, pull_request]

env:
  RHINO_TOKEN: ${{ secrets.RHINO_TOKEN }}
  RHINO_PATH: "%PROGRAMFILES%\Rhino 8\System"

jobs:
  build:

    runs-on: windows-latest

    steps:
    - name: 🛒 Checkout src
      uses: actions/checkout@v3

    - name: 🧩 Setup .NET
      uses: actions/setup-dotnet@v3
      with:
         dotnet-version: 7.0.x

    - name: 🦏 Install Rhino
      uses: mcneel/setup-rhino3d@v1.0.0
      id: setup_rhino
      with:
        email-address: ${{ secrets.EMAIL_ADDRESS }}

    - name: 🛠️ Build rhproj
      run: |
        rhinocode -V